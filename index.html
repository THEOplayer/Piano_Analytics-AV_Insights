<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="shortcut icon" type="image/x-icon" href="https://www.atinternet.com/favicon.png">
    <link rel="stylesheet" type="text/css" href="https://cdn.theoplayer.com/dash/theoplayer/ui.css">
    <script src="https://cdn.theoplayer.com/dash/theoplayer/THEOplayer.js"></script>
    <script type="text/javascript" src="//imasdk.googleapis.com/js/sdkloader/ima3.js"></script>
    <script src="https://tag.aticdn.net/614713/smarttag.js"></script>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }

        .theoplayer-container {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
<div class="theoplayer-container video-js theoplayer-skin"></div>
<script src="dist/PianoAnalyticsAVInsightsTHEOplayerAdapter.min.js"></script>
<script>
    console.log("THEOplayer version:", THEOplayer.version);
    console.log("THEOplayer features:", THEOplayer.features);

    var element = document.querySelector('.theoplayer-container');
    var player = new THEOplayer.Player(element, {
        libraryLocation: 'https://cdn.theoplayer.com/dash/theoplayer/',
        isEmbeddable: true,
        license: "",
        ui: {
            width: '300px',
            height: '300px'
        }
    });

    const avInsights = new AVInsights(player, {debug: true, accountId: "614713"});

    player.muted = true;
    player.source = {
        "sources": [{
            "src": "//cdn.theoplayer.com/video/big_buck_bunny/big_buck_bunny_metadata.m3u8"
        }],
        "ads": [
            {
                "sources": "https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=",
                "timeOffset": "start",
                "integration": "google-ima"
            }
        ],
        "pianoAnalyticsAVInsights": {
            metadata: {
                av_content_id: "fge234",
                av_content: "myContent",
                av_content_type: "video",
                av_content_duration: 596000,
                av_content_genre: ["News", "Sport"]
            }
        }
    };
</script>
</body>

</html>